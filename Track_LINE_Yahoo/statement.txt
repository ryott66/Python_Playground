
## 概要

あなたは、あるインターネットカフェの入退店管理システムを作成することになった。このシステムは、インターネットカフェ利用客の利用状況を管理し、空席管理や料金精算を自動化することが主な役割である。

利用客は店舗入口に配置された端末から、空席状況の閲覧、利用の受付、精算を行うことができる。また、利用中は座席の端末から現在の利用時間を閲覧できるほか、インターネットカフェのサービスであるフードの注文やシャワールームの利用に関する操作を行うことができる。

下記の「詳細な仕様」に基づいて、入退店管理システムの画面に表示するデータを出力するプログラムを実装せよ。上記の説明では、細かい仕様や具体的な入出力方式はまだ書かれていないことに注意すること。

## 採点

構築すべきシステムが複雑なので、一部の種類のクエリに対応すれば正答できる「基本実装」というテストケースが用意されている。基本実装をスキップして応用実装にチャレンジすることもできるが、**まず基本実装が動作することを確認してから応用実装に着手することを強く勧める。**

基本実装のテストケースでは、後述する「空席状況表示クエリ」「フードクーポン対応」が発生しないことが保証される。また、利用後の座席や使用後のシャワーの清掃時間を無視できること、つまり清掃中の状態にならないことも保証される。

それぞれのクエリが正しく実装されているかを確認するための秘密のテストが用意されているため、もし公開テストケースで満点が取れたとしても、最終的な結果が満点ではない可能性がある。そのため、公開テストケースで満点が取れても、プログラムにミスがないか確認することを勧める。

## 詳細な仕様

### 時刻

- 時刻は `YYYY/MM/DD-hh:mm:ss` 形式で表される。
  - `YYYY/MM/DD` は `YYYY` 年 `MM` 月 `DD` 日であることを表す文字列である。
  - `hh:mm:ss` は `hh` 時 `mm` 分 `ss` 秒であることを表す文字列であり、`00:00:00` から `23:59:59` まで（両端含む）の \\(24\\) 時間表記で与えられる。
  - 時刻を表すそれぞれの数について、与えられる桁数は固定であり、適切に \\(0\\) 埋めされて与えられる。
  - 入力で与えられる時刻は `2000/01/01-00:00:00` から `2099/12/31-23:59:59` まで（両端含む）の範囲に含まれることが保証される。
  - 与えられる時刻はグレゴリオ暦に則ったものである。
  - 閏秒は考慮しない。

### 座席

- 店内には \\(n\\) 席の座席が存在し、各座席にはそれぞれ \\(1\\) から \\(n\\) までの**座席 ID** が付与されている。
- 各座席には、座席の種類を表す**座席タイプ**が指定されている。座席タイプは \\(m\\) 種類存在し、各座席タイプにはそれぞれ \\(1\\) から \\(m\\) までの**座席タイプ ID** が付与されている。

### 受付

- インターネットカフェを利用するためには、店舗入口の端末から、希望する座席タイプを指定して受付要求を行う必要がある。
  - 希望する座席タイプの座席に空席がある場合に限り受付要求は受理され、要求を行った利用客は、希望する座席タイプの空席のうち**座席 ID が最小のものに割り当てられる**。
- 受付要求が受理された利用客それぞれに対して、**利用客 ID** が付与される。
  - 利用客 ID は整数であり、この値によって予約が区別される。
  - 受理された時刻が早い予約から、順に \\(1, 2, 3, \ldots\\) と利用客 ID が付与される。
    - 付与された利用客 ID の先頭には、余分な \\(0\\) (leading zero) は付いていない。

### 利用料金

- インターネットカフェの利用に際して、利用客には「座席料金」「フード料金」「シャワー料金」の \\(3\\) 種類の料金が発生する。
- このとき、利用客が支払う利用料金は \\(3\\) つの料金の合計となる。

### 基本料金

- 座席タイプごとに、基本料金が定められている。
- 基本料金とは利用中の時間経過に従って座席料金に加算される料金であり、初回は受付要求が受理された \\(1\\) 秒後、その後は前回の加算から \\(10\\) 分が経過するごとに加算が行われる。
  - このインターネットカフェの利用時間に上限は無く、加算回数がとても多くなる状況も考えられることに注意せよ。

### 定額パック

- 定額パックとは、一定時間までの利用を一定の座席料金で行える料金システムであり、利用の上限時間及びパック利用料金は定額パックにより異なる。また、利用の上限時間をパック時間、パック利用料金をパック料金と呼ぶ。
  - 適用可能な定額パックの種類数や、パック時間及びパック料金は、座席タイプによって異なりうる。
  - \\(1\\) 回の利用に対し、複数の定額パックを適用することはできない。
- 定額パックを適用した場合の座席料金は以下のように定められる。
  - 利用時間がパック時間以下である場合、座席料金はパック料金のみである。
  - 利用時間がパック時間を超過した場合、座席料金は超過時間分の利用に対して基本料金を適用した金額をパック料金に加えたものとなる。

### 最小料金制

- このインターネットカフェでは、座席料金に対し最小料金制を導入している。最小料金制とは、利用客が適用する定額パックを選択するのではなく、システムが座席タイプ及び利用時間に応じて自動的に適用するべき定額パックを選択する料金システムである。
  - より具体的には、利用時間が確定した段階でシステムは、
    - 定額パックを適用しなかった場合の座席料金
    - 適用可能な各定額パックを適用した場合の座席料金
    を計算し、それらの最小値を最終的な座席料金とする。

### フードの注文

- 利用客は各座席の端末からフードを注文することができる。フードは \\(f\\) 種類存在し、各フードにはそれぞれ \\(1\\) から \\(f\\) までの**フード ID** が付与されている。また、各フードには注文時にフード料金に加算される料金が設定されている。

### シャワールームの使用

- 店内には \\(s\\) 個のシャワールームが存在し、各シャワールームにはそれぞれ \\(1\\) から \\(s\\) までの**シャワー ID** が付与されている。
- 利用客は各座席の端末からシャワールームの使用開始を要求することができる。
- システムはシャワールームの使用開始を承認し、要求を行った利用客に、使用されていないシャワールームのうち**シャワー ID が最小のものを割り当てる**。ただし、次の場合は使用開始を承認しない。
  - 要求を受けた時点で、全てのシャワールームが使用されているか清掃中である場合
  - 要求を受けた時点で、要求を行った利用客に割り当てられたシャワールームが存在する場合
- シャワールームを使用した後、利用客は各座席の端末からシャワールームの使用終了を通知する。
  - シャワールームの使用終了が承認されると同時に、使用時間に応じて使用料が発生し、シャワー料金に加算される。使用料は \\(\mathrm{shower\\_charge}\\) を用いて次のように定められる。
    - シャワールームの使用開始が承認された \\(1\\) 秒後に \\(\mathrm{shower\\_charge}\\) が使用料に加算される。その後は前回の加算から \\(15\\) 分が経過するごとに \\(\mathrm{shower\\_charge}\\) が使用料に加算される。
    - \\(1\\) 回の座席利用中に複数回シャワーを使用した場合も、シャワーの使用の各回について使用時間及び使用料が計算される。使用時間の合計に対して使用料を計算するわけではない事に注意せよ。
  - （応用実装）シャワールームの使用終了が承認されると同時に、使用されていたシャワールームは清掃中となり、清掃中となった \\(\mathrm{cleaning\\_duration\\_shower}\\) 分後に使用可能となる。例えば、\\(\mathrm{cleaning\\_duration\\_shower} = 15\\) である場合、\\(12\\) 時 \\(10\\) 分 \\(20\\) 秒に使用終了が承認されたシャワールームは、同日 \\(12\\) 時 \\(25\\) 分 \\(19\\) 秒まで清掃中であり、同日 \\(12\\) 時 \\(25\\) 分 \\(20\\) 秒から使用可能となる。
    - 基本実装では、清掃にかかる時間を無視することができる。すなわち、シャワールームが清掃中の状態になることはなく即時に使用可能となり、\\(\mathrm{cleaning\\_duration\\_shower}\\) が \\(0\\) であることが保証される。

### 料金の精算

- 利用客は退店時に、店舗入口の端末から料金の精算を行う。このとき、利用客は利用料金を支払う。
- （応用実装）精算が完了すると、精算を行った利用客が割り当てられていた座席は清掃中となり、清掃中となった \\(\mathrm{cleaning\\_duration\\_seat}\\) 分後に空席となる。例えば、\\(\mathrm{cleaning\\_duration\\_seat} = 20\\) である場合、\\(12\\) 時 \\(15\\) 分 \\(30\\) 秒に精算が完了した利用者が割り当てられていた座席は、同日 \\(12\\) 時 \\(35\\) 分 \\(29\\) 秒まで清掃中であり、同日 \\(12\\) 時 \\(35\\) 分 \\(30\\) 秒から空席となる。
  - 基本実装では、清掃にかかる時間を無視することができる。すなわち、座席が清掃中の状態になることはなく即時に空席となり、\\(\mathrm{cleaning\\_duration\\_seat}\\) が \\(0\\) であることが保証される。

### フードクーポン対応（応用実装）

- 利用客は精算時にクーポンを使用することで、座席から注文したフードの料金に割引を適用することができる。クーポンは \\(c\\) 種類存在し、各クーポンにはそれぞれ \\(1\\) から \\(c\\) までの**クーポン ID** が付与されている。また、各クーポンには対象とするフード \\(1\\) 種類と割引額が設定されている。
  - 設定されている割引額は、対象とするフード注文 \\(1\\) 回当たりの割引額であり、対象とするフードを複数回注文していた場合には、割引額に注文回数を乗じた額がフード料金から減算される。
  - このとき利用客の支払い金額は、割引が適用された後のフード料金に、座席料金とシャワー料金を加算した金額となる。
  - 対象とするフードを \\(1\\) 回も注文していないようなクーポンは使用できない。
- 利用客は複数のクーポンを同時に使用することが可能である。
  - 各クーポンによる割引は原則として独立に行われるが、同じ種類のフードを対象とするクーポンを複数使用した場合に限り、それらの中で割引額が最も大きいクーポン \\(1\\) つのみが適用される。

### 空席状況の閲覧（応用実装）

- 利用客は店舗入口の端末から、各座席タイプの座席が現在何席空いているかを閲覧することができる。

## 入出力形式

- プログラムに与えられる入力は、標準入力を介して行われる。
  - 改行コードは `\n` (<LF>) である。最終行の末尾にも改行コードが付与される。
- 入力は、以下のようなフォーマットに従う。
```math
\(n\) \(m\) \(\mathrm{cleaning\_duration\_seat}\)
\(\mathrm{type}_1\) \(\mathrm{type}_2\) \(\cdots\) \(\mathrm{type}_n\)
\(\mathrm{pack}_1\)
\(\mathrm{pack}_2\)
\(\vdots\)
\(\mathrm{pack}_m\)
\(f\)
\(\mathrm{food\_price}_1\) \(\mathrm{food\_price}_2\) \(\cdots\) \(\mathrm{food\_price}_f\)
\(c\)
\(\mathrm{target}_1\) \(\mathrm{discount}_1\)
\(\mathrm{target}_2\) \(\mathrm{discount}_2\)
\(\vdots\)
\(\mathrm{target}_c\) \(\mathrm{discount}_c\)
\(s\) \(\mathrm{shower\_charge}\) \(\mathrm{cleaning\_duration\_shower}\)
\(q\)
\(query_1\)
\(query_2\)
\(\vdots\)
\(query_q\)
```

- 座席の個数 \\(n\\) 、座席タイプの数 \\(m\\) 及び座席が清掃中となる時間 \\(\mathrm{cleaning\\_duration\\_seat}\\) が \\(1\\) 行目に与えられる。\\(n\\) は \\(1\\) 以上 \\(1{,}000\\) 以下の整数、\\(m\\) は \\(1\\) 以上 \\(10\\) 以下の整数、\\(\mathrm{cleaning\\_duration\\_seat}\\) は \\(0\\) 以上 \\(60\\) 以下の整数である。
  - 基本実装のテストケースでは、 \\(\mathrm{cleaning\\_duration\\_seat}\\) が \\(0\\) であることが保証される。
- 各座席の座席タイプが \\(2\\) 行目に与えられる。
  - \\(i\\) 番目 (\\(1 \le i \le n\\)) に与えられるのは、座席 ID が \\(i\\) である座席の座席タイプ ID \\(\mathrm{type}_i\\) である。\\(\mathrm{type}_i\\) は \\(1\\) 以上 \\(m\\) 以下の整数である。
  - 各座席タイプの座席が少なくとも一つ存在する。つまり、\\(j = 1, 2, \cdots, m\\) について、\\(\mathrm{type}_i = j\\) をみたす \\(i\\) が存在する。
- \\(3\\) 行目以降に、座席タイプ ID が \\(1\\) から \\(m\\) までの座席タイプの料金情報が、座席タイプ ID の昇順に与えられる。座席タイプ ID が \\(i\\) の座席タイプの料金情報 \\(pack_i\\) は次のようなフォーマットに従う。
```math
\(\mathrm{basic}\) \(p\)
\(\mathrm{pack\_time}_1\) \(\mathrm{pack\_price}_1\)
\(\mathrm{pack\_time}_2\) \(\mathrm{pack\_price}_2\)
\(\vdots\)
\(\mathrm{pack\_time}_p\) \(\mathrm{pack\_price}_p\)
```

  - \\(\mathrm{basic}\\) は、座席タイプの基本料金であり、\\(1\\) 以上 \\(10{,}000\\) 以下の整数で与えられる。
  - \\(p\\) は、座席タイプに対応している定額パックの個数であり、\\(0\\) 以上 \\(10\\) 以下の整数で与えられる。
  - 以降の \\(p\\) 行にわたって、座席タイプに対応している定額パックの情報 \\(\mathrm{pack\\_time}_j\\) 及び \\(\mathrm{pack\\_price}_j\\) が、\\(\mathrm{pack\\_time}_j\\) の昇順で与えられる。与えられる \\(\mathrm{pack\\_time}_j\\) は全て異なる。
    - \\(\mathrm{pack\\_time}_j\\) は、座席タイプ ID が \\(i\\) の座席タイプが対応している \\(j\\) 番目の定額パックのパック時間(分)であり、\\(20\\) 以上 \\(1440\\) 以下かつ \\(10\\) の倍数で与えられる。
    - \\(\mathrm{pack\\_price}_j\\) は、座席タイプ ID が \\(i\\) の座席タイプが対応している \\(j\\) 番目の定額パックのパック料金であり、\\(1\\) 以上 \\(1{,}000{,}000\\) 以下の整数で与えられる。
    - \\(\mathrm{pack\\_time}_j\\) が大きい定額パックほど \\(\mathrm{pack\\_price}_j\\) も大きく、与えられる \\(\mathrm{pack\\_price}_j\\) は全て異なる。つまり、\\(\mathrm{pack\\_price}_j \lt \mathrm{pack\\_price}\_\{j+1\} (j = 1, 2, \cdots, p-1)\\) が成り立つ。

- その次の行に、フードの種類数 \\(f\\) が与えられる。\\(f\\) は \\(1\\) 以上 \\(1{,}000\\) 以下の整数である。
- その次の行に、フード ID が \\(1\\) から \\(f\\) までのフードの料金が、フード ID の昇順に与えられる。フードの料金 \\(\mathrm{food\\_price}_i\\) は \\(1\\) 以上 \\(1{,}000{,}000\\) 以下の整数である。

- その次の行に、クーポンの種類数 \\(c\\) が与えられる。\\(c\\) は \\(1\\) 以上 \\(1{,}000\\) 以下の整数である。
- 以降の \\(c\\) 行にわたって、クーポン ID が \\(1\\) から \\(c\\) までのクーポンの情報が、クーポン ID の昇順に与えられる。クーポンが対象とするフードのフード ID \\(\mathrm{target}\_i\\) は \\(1\\) 以上 \\(f\\) 以下の整数、クーポンの割引額 \\(\mathrm{discount}\_i\\) は \\(1\\) 以上 \\(\mathrm{food\\\_price}\_{\mathrm{target}_i}\\) 以下の整数である。

- シャワールームの個数 \\(s\\) 、シャワールームの時間あたりの料金 \\(\mathrm{shower\\_charge}\\) 及びシャワールームが清掃中となる時間 \\(\mathrm{cleaning\\_duration\\_shower}\\) がその次の行に与えられる。\\(s\\) は \\(1\\) 以上 \\(100\\) 以下の整数、\\(\mathrm{shower\\_charge}\\) は \\(1\\) 以上 \\(10{,}000\\) 以下の整数、\\(\mathrm{cleaning\\_duration\\_shower}\\) は \\(0\\) 以上 \\(60\\) 以下の整数である。
  - 基本実装のテストケースでは、 \\(\mathrm{cleaning\\_duration\\_shower}\\) が \\(0\\) であることが保証される。

- その次の行に、クエリの行数 \\(q\\) が与えられる。\\(q\\) は \\(1\\) 以上 \\(2{,}000\\) 以下の整数である。

- それ以降の \\(q\\) 行にわたって、クエリ \\(query_i\\) が \\(1\\) 行に \\(1\\) つずつ与えられる。各クエリは「受付クエリ」、「利用時間取得クエリ」、「精算クエリ」、「フード注文クエリ」、「空席状況表示クエリ」、「シャワー使用開始クエリ」、「シャワー使用終了クエリ」の \\(7\\) 種類のいずれかである。
- クエリは時系列順で与えられることが保証される。また、\\(2\\) 個目以降のクエリが送られる時刻は直前のクエリが与えられた時刻より \\(1\\) 秒以上遅いことが保証される。
- クエリで与えられる各種 ID の制約は以下の通りである。
  - クエリで与えられる、座席 ID を表す整数は、\\(1\\) 以上 \\(n\\) 以下であることが保証される。
  - クエリで与えられる、座席タイプ ID を表す整数は、\\(1\\) 以上 \\(m\\) 以下であることが保証される。
  - クエリで与えられる、フード ID を表す整数は、\\(1\\) 以上 \\(f\\) 以下であることが保証される。
  - クエリで与えられる、クーポン ID を表す整数は、\\(1\\) 以上 \\(c\\) 以下であることが保証される。
  - クエリで与えられる、利用客 ID を表す整数は、\\(1\\) 以上 \\(2{,}000\\) 以下であることが保証される。
- 各クエリの詳細なフォーマット及び出力すべき内容は以下に示す。

### 受付クエリ（基本実装・応用実装）

- 入力
  ```plain
  checkin: {時刻} {座席タイプ}
  ```
  - `checkin:`: 文字列 `checkin:`
  - `{時刻}`: クエリが送られた時刻が時刻形式で与えられる。
  - `{座席タイプ}`: 利用客が利用を希望する座席タイプの座席タイプ ID を表す整数が与えられる。
  - 各要素は \\(1\\) つの半角スペースで区切られている。

- 出力
  以下の条件を上から順に確認し、最初に当てはまった条件に対応する処理を実行せよ。
  - 指定された座席タイプの座席に現時点で空席がない場合、受付要求を受理しない。また、以下のエラーを出力する。
    ```plain
    checkin: fully occupied
    ```
  - そうでない場合、受付要求を受理し、以下を出力する。
    ```plain
    checkin: userid = {利用客 ID}, seatid = {座席 ID}
    ```
    - `{利用客 ID}`: 受付を行った利用客に付与した利用客 ID を表す整数。
    - `{座席 ID}`: 受付を行った利用客を割り当てた座席の座席 ID を表す整数。

### 利用時間取得クエリ（基本実装・応用実装）

- 入力
  ```plain
  get-duration: {時刻} {座席 ID}
  ```
  - `get-duration:`: 文字列 `get-duration:`
  - `{時刻}`: クエリが送られた時刻が時刻形式で与えられる。
  - `{座席 ID}`: 利用時間を取得する利用客の、現在利用している座席の座席 ID を表す整数が与えられる。
  - 各要素は \\(1\\) つの半角スペースで区切られている。

- 出力
  以下の条件を上から順に確認し、最初に当てはまった条件に対応する処理を実行せよ。
  - 与えられた座席 ID に対応する座席が、クエリが送られた時点で空席または清掃中の場合、以下のエラーを出力する。
    ```plain
    get-duration: seat not used
    ```
  - そうでない場合、以下を出力する。
    ```plain
    get-duration: {利用時間}
    ```
    - `{利用時間}`: 与えられた座席 ID に対応する座席を利用している利用客の利用時間(分単位で算出し、端数は切り上げ)を表す整数。

### 精算クエリ（基本実装・応用実装）

- 入力
  ```plain
  checkout: {時刻} {利用客 ID} {クーポンの情報}
  ```
  - `checkout:`: 文字列 `checkout:`
  - `{時刻}`: クエリが送られた時刻が時刻形式で与えられる。
  - `{利用客 ID}`: 精算を希望する利用客の利用客 ID を表す整数が与えられる。
  - `{クーポンの情報}`: 利用客が使用するクーポンの種類数と、クーポン ID の列が半角スペース区切りで与えられる。クーポンの種類数は \\(0\\) 以上 \\(100\\) 以下の整数であり、クーポン ID の列には互いに異なる `クーポンの種類数` 個のクーポン ID を表す整数が昇順で与えられる。
    - 基本実装では、`クーポンの種類数` が \\(0\\) であることが保証される。
  - 各要素は \\(1\\) つの半角スペースで区切られている。

- 出力
  以下の条件を上から順に確認し、最初に当てはまった条件に対応する処理を実行せよ。
  - 与えられた利用客 ID に対応する利用客が存在しない場合、精算を行わない。また、以下のエラーを出力する。
    ```plain
    checkout: invalid user
    ```
  - 与えられた利用客 ID に対応する利用客が既に精算を完了している場合、精算を行わない。また、以下のエラーを出力する。
    ```plain
    checkout: already done
    ```
  - 与えられた利用客 ID に対応する利用客がシャワールームを利用中の場合、精算を行わない。また、以下のエラーを出力する。
    ```plain
    checkout: shower is still in use
    ```
  - （応用実装）与えられた利用客 ID に対応する利用客が注文していないフードを対象とするクーポンのクーポン ID がクーポン ID の列に含まれる場合、精算を行わない。また、以下のエラーを出力する。
    ```plain
    checkout: invalid coupon
    ```
  - そうでない場合、精算を完了し、以下を出力する。
    ```plain
    checkout: {支払い金額}
    ```
    - `{支払い金額}`: 利用客が支払うべき合計金額を表す整数。

### フード注文クエリ（基本実装・応用実装）

- 入力
  ```plain
  order-food: {時刻} {座席 ID} {フード ID}
  ```
  - `order-food:`: 文字列 `order-food:`
  - `{時刻}`: クエリが送られた時刻が時刻形式で与えられる。
  - `{座席 ID}`: フードを注文する利用客の、現在利用している座席の座席 ID を表す整数が与えられる。
  - `{フード ID}`: 利用客が注文するフードのフード ID を表す整数が与えられる。
  - 各要素は \\(1\\) つの半角スペースで区切られている。

- 出力
  以下の条件を上から順に確認し、最初に当てはまった条件に対応する処理を実行せよ。
  - 与えられた座席 ID に対応する座席が、クエリが送られた時点で空席または清掃中の場合、フードの注文処理を行わず、以下のエラーを出力する。
    ```plain
    order-food: seat not used
    ```
  - そうでない場合、フードの注文処理を行い、以下を出力する。
    ```plain
    order-food: ok
    ```

### シャワー使用開始クエリ（基本実装・応用実装）

- 入力
  ```plain
  shower-start: {時刻} {座席 ID}
  ```
  - `shower-start:`: 文字列 `shower-start:`
  - `{時刻}`: クエリが送られた時刻が時刻形式で与えられる。
  - `{座席 ID}`: シャワールームの使用を希望する利用客の、現在利用している座席の座席 ID を表す整数が与えられる。
  - 各要素は \\(1\\) つの半角スペースで区切られている。

- 出力
  以下の条件を上から順に確認し、最初に当てはまった条件に対応する処理を実行せよ。
  - 与えられた座席 ID に対応する座席が、クエリが送られた時点で空席または清掃中の場合、シャワールームの使用開始処理を行わず、以下のエラーを出力する。
    ```plain
    shower-start: seat not used
    ```
  - 与えられた座席 ID に対応する座席を利用している利用客が既にシャワールームを使用中の場合、シャワールームの使用開始処理を行わず、以下のエラーを出力する。
    ```plain
    shower-start: already started
    ```
  - 全てのシャワールームが使用中または清掃中の場合、シャワールームの使用開始処理を行わず、以下のエラーを出力する。
    ```plain
    shower-start: fully occupied
    ```
  - そうでない場合、シャワールームの使用開始を承認し、以下を出力する。
    ```plain
    shower-start: {シャワー ID}
    ```
    - `{シャワー ID}`: 利用客に割り当てられたシャワールームのシャワー ID。

### シャワー使用終了クエリ（基本実装・応用実装）

- 入力
  ```plain
  shower-end: {時刻} {座席 ID}
  ```
  - `shower-end:`: 文字列 `shower-end:`
  - `{時刻}`: クエリが送られた時刻が時刻形式で与えられる。
  - `{座席 ID}`: シャワールームの使用終了を希望する利用客の、現在利用している座席の座席 ID を表す整数が与えられる。
  - 各要素は \\(1\\) つの半角スペースで区切られている。

- 出力
  以下の条件を上から順に確認し、最初に当てはまった条件に対応する処理を実行せよ。
  - 与えられた座席 ID に対応する座席が、クエリが送られた時点で空席または清掃中の場合、シャワールームの使用終了処理を行わず、以下のエラーを出力する。
    ```plain
    shower-end: seat not used
    ```
  - 与えられた座席 ID に対応する座席を利用している利用客がシャワールームを使用中でない場合、シャワールームの使用終了処理を行わず、以下のエラーを出力する。
    ```plain
    shower-end: not started
    ```
  - そうでない場合、シャワールームの使用終了を承認し、以下を出力する。
    ```plain
    shower-end: {使用時間}
    ```
    - `{使用時間}`: 与えられた座席 ID に対応する座席を利用している利用客にシャワールームの使用開始を承認してから、このクエリが送られるまでの時間(分単位で算出し、端数は切り上げ)を表す整数。


### 空席状況表示クエリ（応用実装）

- 入力
  ```plain
  get-vacant-seats: {時刻}
  ```
  - `get-vacant-seats:`: 文字列 `get-vacant-seats:`
  - `{時刻}`: クエリが送られた時刻が時刻形式で与えられる。
  - 各要素は \\(1\\) つの半角スペースで区切られている。

- 出力
  - \\(m\\) 種類の座席タイプそれぞれについて、クエリが送信された時点の空席数を求め、**空席が存在する座席タイプ**について、**座席タイプ ID の昇順**に出力する。
  - 出力のフォーマットを以下に示す。
```math
get-vacant-seats: \(v\)
\(\mathrm{id}_1\) \(\mathrm{vacancy}_1\)
\(\mathrm{id}_2\) \(\mathrm{vacancy}_2\)
\(\vdots\)
\(\mathrm{id}_v\) \(\mathrm{vacancy}_v\)
```
  - \\(v\\) には、空席が存在する座席タイプの種類数を整数で出力する。
  - \\(2\\) 行目以降には、それぞれの座席タイプについての情報を \\(1\\) 行ずつ出力する。
    - \\(\mathrm{id}_i\\) には \\(i\\) 番目の座席タイプの座席タイプ ID を整数で出力する。
    - \\(\mathrm{vacancy}_i\\) には \\(i\\) 番目の座席タイプの座席であり、空席であるものの数を整数で出力する。


## 入出力例

### 例 1

標準入力 (`00_sample_00.in`)

``` plain
4 2 0
1 1 2 1
200 2
60 600
120 900
350 2
200 1500
300 2000
3
220 470 390
2
1 20
2 120
2 300 0
15
checkin: 2025/01/01-12:00:00 1
checkin: 2025/01/01-12:05:00 2
checkin: 2025/01/01-12:20:00 2
get-duration: 2025/01/01-13:11:00 2
get-duration: 2025/01/01-13:11:30 3
checkout: 2025/01/01-13:25:30 3 0
checkout: 2025/01/01-13:26:30 1 0
order-food: 2025/01/01-14:00:00 1 2
order-food: 2025/01/01-14:05:00 3 1
checkin: 2025/01/01-15:25:00 1
checkout: 2025/01/01-15:30:00 2 0
shower-start: 2025/01/01-16:37:00 1
shower-end: 2025/01/01-17:15:20 1
checkout: 2025/01/02-01:42:30 3 0
checkout: 2025/01/02-01:50:00 3 0

```


標準出力

``` plain
checkin: userid = 1, seatid = 1
checkin: userid = 2, seatid = 3
checkin: fully occupied
get-duration: seat not used
get-duration: 67
checkout: invalid user
checkout: 900
order-food: seat not used
order-food: ok
checkin: userid = 3, seatid = 1
checkout: 2070
shower-start: 1
shower-end: 39
checkout: 11800
checkout: already done

```

この入力は基本実装に含まれる。クエリは以下のように処理される。

- 座席タイプ ID が \\(1\\) の座席タイプの座席を希望して受付要求を行う。
  - 座席 ID が \\(1, 2, 4\\) の座席が条件を満たし、かつ空席であるため、受付要求は受理され、利用客は座席 ID が \\(1\\) の座席に割り当てられる。また、\\(1\\) 番目に受理された受付要求であるため、利用客 ID \\(1\\) が割り当てられる。
- 座席タイプ ID が \\(2\\) の座席タイプの座席を希望して受付要求を行う。
  - 座席 ID が \\(3\\) の座席が条件を満たし、かつ空席であるため、受付要求は受理され、利用客は座席 ID が \\(3\\) の座席に割り当てられる。また、\\(2\\) 番目に受理された受付要求であるため、利用客 ID \\(2\\) が割り当てられる。
- 座席タイプ ID が \\(2\\) の座席タイプの座席を希望して受付要求を行う。
  - 条件を満たす空席が存在しないため、受付要求は受理されない。
- 座席 ID が \\(2\\) の座席を利用している利用客の利用時間の取得を試みるが、座席 ID が \\(2\\) の座席はクエリが送られた時点では利用されていないため失敗する。
- 座席 ID が \\(3\\) の座席を利用している利用客の利用時間の取得を試みる。
  - クエリが送られた時点で、座席 ID が \\(3\\) の座席を利用している利用客の利用時間は \\(1\\) 時間 \\(6\\) 分 \\(30\\) 秒であり、これを分単位に変換し小数点以下を切り上げると、\\(67\\) 分となる。
- 利用客 ID が \\(3\\) の利用客が精算を試みるが、クエリが送られた時点で利用客 ID が \\(3\\) の利用客は存在しないため失敗する。
- 利用客 ID が \\(1\\) の利用客が精算を試みる。
  - 精算が完了する。利用客 ID が \\(1\\) の利用客が利用していた座席の座席タイプは \\(1\\)、利用時間は \\(1\\) 時間 \\(26\\) 分 \\(30\\) 秒であり、定額パックを適用しなかった場合の座席料金は \\(200 \times 9 = 1800\\)、\\(60\\) 分の定額パックを適用した場合の座席料金は \\(600 + 200 \times 3 = 1200\\)、\\(120\\) 分の定額パックを適用した場合の座席料金は \\(900\\) となるため、支払い金額は \\(900\\) となる。
- 座席 ID が \\(1\\) の座席を利用している利用客が、フード ID が \\(2\\) のフードの注文を試みるが、座席 ID が \\(1\\) の座席はクエリが送られた時点では利用されていないため失敗する。
- 座席 ID が \\(3\\) の座席を利用している利用客が、フード ID が \\(1\\) のフードの注文を試みる。
  - フードの注文処理が行われ、\\(220\\) の料金が発生する。
- 座席タイプ ID が \\(1\\) の座席タイプの座席を希望して受付要求を行う。
  - 座席 ID が \\(1, 2, 4\\) の座席が条件を満たし、かつ空席であるため、受付要求は受理され、利用客は座席 ID が \\(1\\) の座席に割り当てられる。また、\\(3\\) 番目に受理された受付要求であるため、利用客 ID \\(3\\) が割り当てられる。
- 利用客 ID が \\(2\\) の利用客が精算を試みる。
  - 精算が完了する。利用客 ID が \\(2\\) の利用客が利用していた座席の座席タイプは \\(2\\)、利用時間は \\(3\\) 時間 \\(25\\) 分であり、定額パックを適用しなかった場合の座席料金は \\(350 \times 21 = 7350\\)、\\(200\\) 分の定額パックを適用した場合の座席料金は \\(1500 + 350 \times 1 = 1850\\)、\\(300\\) 分の定額パックを適用した場合の座席料金は \\(2000\\) となるため、ルーム料金は \\(1850\\) となり、フード料金を加えた支払い金額は \\(1850 + 220 = 2070\\) となる。
- 座席 ID が \\(1\\) の座席を利用している利用客がシャワールームの使用開始を要求する。
  - シャワー ID が \\(1, 2\\) のシャワールームが使用可能であるため、シャワールームの使用開始が承認される。シャワー ID が \\(1\\) であるシャワールームが利用客に割り当てられる。
- 座席 ID が \\(1\\) の座席を利用している利用客がシャワールームの使用終了を要求する。
  - シャワールームの使用終了が承認され、使用時間は \\(38\\) 分 \\(20\\) 秒である。これは \\(30\\) 分より長く、\\(45\\) 分以下であるため、\\(300 \times 3 = 900\\) の料金が発生する。
- 利用客 ID が \\(3\\) の利用客が精算を試みる。
  - 精算が完了する。利用客 ID が \\(3\\) の利用客が利用していた座席の座席タイプは \\(1\\)、利用時間は \\(10\\) 時間 \\(17\\) 分 \\(30\\) 秒であり、定額パックを適用しなかった場合の座席料金は \\(200 \times 62 = 12400\\)、\\(60\\) 分の定額パックを適用した場合の座席料金は \\(600 + 200 \times 56 = 11800\\)、\\(120\\) 分の定額パックを適用した場合の座席料金は \\(900 + 200 \times 50 = 10900\\) となるため、シャワー料金を加えた支払い金額は \\(10900 + 900 = 11800\\) となる。
- 利用客 ID が \\(3\\) の利用客が精算を試みるが、利用客 ID が \\(3\\) の利用客は既に精算を完了しているため失敗する。

### 例 2

標準入力 (`00_sample_01.in`)

``` plain
7 3 15
3 1 1 2 3 2 1
150 2
60 600
120 900
400 0
250 1
180 1500
2
1250 580
3
1 150
2 80
1 250
2 200 10
20
checkin: 2025/03/27-12:00:00 2
checkin: 2025/03/27-12:11:11 1
checkin: 2025/03/27-12:22:22 2
get-vacant-seats: 2025/03/27-12:33:33
shower-start: 2025/03/27-12:44:44 4
shower-start: 2025/03/27-12:55:55 7
shower-end: 2025/03/27-13:01:23 6
shower-start: 2025/03/27-13:12:34 2
shower-start: 2025/03/27-13:23:45 4
shower-end: 2025/03/27-13:34:56 4
order-food: 2025/03/27-14:02:46 2 2
shower-end: 2025/03/27-14:13:57 2
shower-start: 2025/03/27-14:46:02 2
checkout: 2025/03/27-14:57:13 2 0
checkout: 2025/03/27-15:23:01 1 1 1
get-vacant-seats: 2025/03/27-15:34:12
shower-end: 2025/03/27-15:45:23 2
order-food: 2025/03/27-15:56:34 2 2
get-duration: 2025/03/27-16:00:00 6
checkout: 2025/03/27-16:11:11 2 1 2

```


標準出力

``` plain
checkin: userid = 1, seatid = 4
checkin: userid = 2, seatid = 2
checkin: userid = 3, seatid = 6
get-vacant-seats: 2
1 2
3 2
shower-start: 1
shower-start: seat not used
shower-end: not started
shower-start: 2
shower-start: already started
shower-end: 51
order-food: ok
shower-end: 62
shower-start: 1
checkout: shower is still in use
checkout: invalid coupon
get-vacant-seats: 2
1 2
3 2
shower-end: 60
order-food: ok
get-duration: 218
checkout: 5500

```

この入力は基本実装には含まれず、応用実装に含まれる。


なお、期待する入出力は [test/basic_testcases.json](test/basic_testcases.json) にいくつか定義されています。実装する際の参考にしてください。
